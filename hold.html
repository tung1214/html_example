const companies = [
    {name:"company one", category: "retails", start: 1992, end: 2024},
    {name:"company two", category: "finance", start: 1971, end: 2020},
    {name:"company three", category: "wholesales", start: 1988, end: 1999},
    {name:"company four", category: "wholesales", start: 1996, end: 2010},
    {name:"company five", category: "retails", start: 1960, end: 2004},
    {name:"company six", category: "finance", start: 1992, end: 2011},
    {name:"company seven", category: "finance", start: 1986, end: 2009},
    {name:"company eight", category: "retails", start: 1977, end: 2012},
    {name:"company nine", category: "retails", start: 1992, end: 2006},
    {name:"company ten", category: "wholesales", start: 1992, end: 1997}];
const ages = [33,12,45,77,60,23,7,80,55,67,29,16];
// simply for loop
// for(let i =0; i <companies.length; i++){
//     console.log(companies[i]);
// }
// array foreach
companies.forEach((company) => {
    console.log(company.start);
    company.start++;
    console.log(company.start);
});
 foreach example 1
ages.forEach((age,index)=>{
    if (index % 2) {
        console.log(age)
        age = age/2;
        console.log(age);
        ages[index]=age;
    }
 });
//for each example 2
 total = 0;
 ages.forEach(age => {
    total = total + age;
 });
 console.log(total);
// filter example

let adult = [];
for (let i = 0; i < ages.length; i++) {
    if (ages[i] >=18) {
        adult.push(ages[i]);
    }
}
console.log(adult);
let adult1 = ages.filter(age=>(age >= 18));
console.log(adult1);
console.log(adult1);
const retailsCompanies=companies.filter(company=>(company.category === 'retails'));
console.log(retailsCompanies);
oldCompanies=retailsCompanies.filter(company=>((company.end - company.start) > 20));
console.log(oldCompanies);

// map
const companyNames = companies.map(company=>company.name);
console.log(companyNames);
const testMap = companies.map(company=>`${company.name} [${company.start} - ${company.end}]`);
console.log(testMap);



a = [5,2,6,10,7,33];
max_value = (a,b)=>(a> b ? a:b);
function max_sequence(a) {
    let result = a[0];
    for (let e of a) {
        result = max_value(result,e);
    }
    return result;
}
console.log(max_sequence(a));
// case 2
min_value = (a,b)=> (a< b ? a:b)
function min_sequence(a) {
    let result = a[0];
    for (let e of a) {
        result = min_value(result,e);
    }
    return result;
}
console.log(min_sequence(a));
// case 3
function reduce(fn,a) {
    if (a.length === 0) {
        return console.log("can't compute empty array !")
    }
    if (a.length === 1) {
        return a[0]
    }
    if (a.length > 1) {
        let result = a[0];
    for (let x = 1; x < a.length; x++) {
        result = fn(result,a[x]);
    }
        return result;        
    }
}
console.log(reduce(max_value,a));
console.log(reduce(min_value,a));
console.log(reduce((a,b)=>a+b,a));

a = [5,8,6,10,9];
max_value = (a,b) => (a > b ? a : b);
sum = (a,b) => a+b;
min_value = (a,b) => (a < b ? a : b);
function reduce(fn,a) { // fn = sum , a=a
let result = a[0];
for (let i = 1; i < a.length; i++) {
    console.log(i++);
    result = fn(result,a[i]);
    console.log(result);
}
return result;
}
console.log(reduce(sum,a));

// reducing function
const pets = [
    {type:'dog',name:'john',age:6},
    {type:'cat',name:'jack',age: 2},
    {type:'dog',name:'jackie',age:8},
    {type:'cat',name:"peter",age:10}
    ];
const groupedPets = pets.reduce((temp, i)=>{
    const variable = i.type;
    if (!temp[variable]){
        temp[variable] =[];
    }
    temp[variable].push(i.name);
    return temp;
},{})
console.log(groupedPets);

// reducing F 2
const numbers = [1,2,3,4,5];
const sum = numbers.reduce((accumulator, currentValue)=>{
    return accumulator + currentValue;
},0);
console.log(sum);

// reducing function with callback
const numbers = [1,2,3,4,5];

const callback = (value) => {
    console.log(`Processing value: ${value}`);
    return callback;
};

const sum = numbers.reduce((acc, value) => {
    return acc(value);
}, callback);

// reducing function 
const people = [
    {name:"john", age:60},
    {name:"ryan", age:25},
    {name:"ann", age:18},
    {name:'anna', age:22}];
    const totalAge = people.reduce((accumulator,person)=>{
        return accumulator + person.age;
    },0);
    console.log(totalAge);

k= 0;
x = (callback)=> {
    // let callback = y
    console.log("i am from function expression !");
    return callback();
}
y = ()=> {
    console.log("i am from second function expression !");
    return 1;
}
w = ()=> {
    console.log("i am from third function expression !");
    return 2;
}
if (k==0) {a = x(y);} else {a =x(w);}
// a = k==0 ? x(y): x(w);
console.log(a);